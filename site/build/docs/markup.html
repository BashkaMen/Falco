<!DOCTYPE html>
<html lang="en">

<!-- /head -->
<head>
  <meta charset="utf-8">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  
      <title>Falco - F# web toolkit for ASP.NET Core</title>
    
  <meta name="description" content="A functional-first toolkit for building brilliant ASP.NET Core applications using F#.">

  <!-- /head/style -->
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <link href="/prism.css" rel="stylesheet" />
  <link href="/tachyons.css" rel="stylesheet" />
  <style>
    :root {
      --gray: rgba(51,51,51,.6);
      --silver: rgb(204, 204, 204);
      --slate: rgb(51, 51, 51);
      --merlot: rgb(50, 1, 79);
      --purple: rgb(184, 69, 252);
      --washed-purple: rgba(185, 69, 252, 0.10);
    }

    /* sizing */
    .h100vh { min-height: 100vh }
    .mw9 { max-width: 80rem }

    /* font */
    .noto { font-family: 'Noto Sans JP', sans-serif }
    .noto-serif { font-family: 'Noto Serif JP', Georgia, serif }

    /* bg */
    .bg-merlot { background-color: var(--merlot) }
    .bg-dots { background-image: radial-gradient(rgba(255,255,255,.3) 1px, transparent 1px), radial-gradient(rgba(255,255,255,.3) 1px, transparent 1px); background-size: 75px 75px; background-position: 0px 0px,40px 25px }
    .bg-parallax {  background-attachment: fixed }

    /* color */
    .merlot { color: var(--merlot) }

    /* opacity */
    .hover-o-100:hover { opacity: 1 }

    /* transform */
    .ty--50 { transform: translateY(-50%);}

    /* text */
    main h1, main h2, main h3, main h4, main h5 { margin-bottom: 0; font-weight: 400 }
    main h2 { margin-top: 3rem; font-size: 2em; color: var(--gray) }
    main h3 { margin-top: 2rem; font-size: 1.5em }
    main h2 + h3 { margin-top: .5rem }
    main p { line-height: 1.4 }

    a { color: inherit; transition: color .125s ease-in }
    main a:visited { color: inherit }
    main a:hover { color: var(--purple) }

    blockquote { margin-left: 0; margin-right: 0; padding: 1rem; border-left: 4px solid var(--purple); background: var(--washed-purple) }
    blockquote p { margin: 0 }

    /* tables */
    table { text-align: left; border-collapse: collapse }
    td, th { padding: .5rem; border-bottom: 1px solid var(--silver) }

    /* code */
    code[class*="language-"], pre[class*="language-"] { font-size: .875rem }
    pre[class*="language-"] { padding: 1rem }
    pre { overflow-x: auto; overflow-wrap: normal; white-space: pre; font-size: .875rem; margin: 1rem 0; padding: 1rem; color: #eff0f9; background: #333 }
    code { vertical-align: middle; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; background-color: var(--washed-purple) }
    pre > code { background-color: inherit }
    h2 > code, h3 > code, p > code { padding: 0 .25rem }
  </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D62HSJHMNZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D62HSJHMNZ');
  </script>
</head>

<!-- /body -->
<body class="noto bg-merlot bg-dots bg-parallax">

<!-- /body/header -->
<header class="pv3">
  <div class="mw8 center pa3">
    <!-- /top bar -->
    <div>
      <nav class="flex flex-column flex-row-l items-center">
        <a href="/"><img src="/icon.svg" class="w3 pb3 pb0-l o-80 hover-o-100" /></a>
        <div class="flex-grow-1-l tc tr-l">
          <a href="/docs" title="Overview of Falco's key features" class="dib mh2 mh3-l no-underline white-90 hover-white">docs</a>
          <a href="/docs/tutorial.html" title="A guide on how to write small, but complete application using Falco" class="dib mh2 mh3-l no-underline white-90 hover-white">guide</a>
          <a href="https://github.com/pimbrouwers/Falco"
             target="_blank"
             alt="Falco GitHub Link"
             title="Fork Falco on GitHub"
             class="dib ml2 ml3-l no-underline white-90 hover-white">code</a>
        </div>
      </nav>
    </div>
    
  </div>
</header>

<!-- /body/content -->
<div class="h100vh bg-white">
  <div class="cf mw8 center pv4 pv5-l ph3">
    <main><h1 id="markup">Markup</h1>
<p><a href="https://www.nuget.org/packages/Falco.Markup"><img src="https://img.shields.io/nuget/v/Falco.Markup.svg" alt="NuGet Version" /></a>
<a href="https://github.com/pimbrouwers/Falco/actions/workflows/build.yml"><img src="https://github.com/pimbrouwers/Falco/actions/workflows/build.yml/badge.svg" alt="build" /></a></p>
<p>A core feature of Falco is the XML markup module. It can be used to produce <strong>any</strong> form of angle-bracket markup (i.e. HTML, SVG, XML etc.) within a Falco project and is also available directly as a standalone <a href="https://www.nuget.org/packages/Falco.Markup">NuGet</a> package</p>
<p><em>All</em> of the standard HTML tags &amp; attributes have a functional representation that produces objects to represent the HTML node. Nodes are either:</p>
<ul>
<li><code>Text</code> which represents <code>string</code> values. (Ex: <code>Text.raw &quot;hello&quot;</code>, <code>Text.rawf &quot;hello %s&quot; &quot;world&quot;</code>)</li>
<li><code>SelfClosingNode</code> which represent self-closing tags (Ex: <code>&lt;br /&gt;</code>).</li>
<li><code>ParentNode</code> which represent typical tags with, optionally, other tags within it (Ex: <code>&lt;div&gt;...&lt;/div&gt;</code>).</li>
</ul>
<h2 id="html">HTML</h2>
<p>The benefits of using the Falco markup module as an HTML engine include:</p>
<ul>
<li>Writing your views in plain F#, directly in your assembly.</li>
<li>Markup is compiled alongside the rest of your code, leading to improved performance and ultimately simpler deployments.</li>
</ul>
<h3 id="strongly-typed-views">Strongly-typed views</h3>
<pre><code class="language-fsharp">open Falco.Markup

type Person =
    { FirstName : string
      LastName : string }

let doc (person : Person) =
    Elem.html [ Attr.lang &quot;en&quot; ] [
        Elem.head [] [
            Elem.title [] [ Text.raw &quot;Sample App&quot; ]
        ]
        Elem.body [] [
            Elem.main [] [
                Elem.h1 [] [ Text.raw &quot;Sample App&quot; ]
                Elem.p [] [ Text.rawf &quot;%s %s&quot; person.First person.Last ]
            ]
        ]
    ]
</code></pre>
<p>Rumor has it that the Falco <a href="https://twitter.com/pim_brouwers">creator</a> makes a dog sound every time he uses <code>Text.rawf</code>.</p>
<blockquote>
<p><strong>Note</strong>: I am the creator, and this is entirely true.</p>
</blockquote>
<h3 id="combining-views-to-create-complex-output">Combining views to create complex output</h3>
<pre><code class="language-fsharp">open Falco.Markup

// Components
let divider =
    Elem.hr [ Attr.class' &quot;divider&quot; ]

// Template
let master (title : string) (content : XmlNode list) =
    Elem.html [ Attr.lang &quot;en&quot; ] [
        Elem.head [] [
            Elem.title [] [ Text.raw &quot;Sample App&quot; ]
        ]
        Elem.body [] content
    ]

// Views
let homeView =
    master &quot;Homepage&quot; [
        Elem.h1 [] [ Text.raw &quot;Homepage&quot; ]
        divider
        Elem.p [] [ Text.raw &quot;Lorem ipsum dolor sit amet, consectetur adipiscing.&quot;]
    ]

let aboutView =
    master &quot;About Us&quot; [
        Elem.h1 [] [ Text.raw &quot;About&quot; ]
        divider
        Elem.p [] [ Text.raw &quot;Lorem ipsum dolor sit amet, consectetur adipiscing.&quot;]
    ]
</code></pre>
<h2 id="svg">SVG</h2>
<p>The vast majority of the SVG spec has been mapped to element and attributes functions. There is also an SVG template to help initialize a new drawing with a valid viewbox.</p>
<pre><code class="language-fsharp">open Falco.Markup
open Falco.Markup.Svg

// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text#example
let svgDrawing =
    Templates.svg (0, 0, 240, 80) [
        Elem.style [] [
            Text.raw &quot;.small { font: italic 13px sans-serif; }&quot;
            Text.raw &quot;.heavy { font: bold 30px sans-serif; }&quot;
            Text.raw &quot;.Rrrrr { font: italic 40px serif; fill: red; }&quot;
        ]
        Elem.text [ Attr.x &quot;20&quot;; Attr.y &quot;35&quot;; Attr.class' &quot;small&quot; ] [ Text.raw &quot;My&quot; ]
        Elem.text [ Attr.x &quot;40&quot;; Attr.y &quot;35&quot;; Attr.class' &quot;heavy&quot; ] [ Text.raw &quot;cat&quot; ]
        Elem.text [ Attr.x &quot;55&quot;; Attr.y &quot;55&quot;; Attr.class' &quot;small&quot; ] [ Text.raw &quot;is&quot; ]
        Elem.text [ Attr.x &quot;65&quot;; Attr.y &quot;55&quot;; Attr.class' &quot;Rrrrr&quot; ] [ Text.raw &quot;Grumpy!&quot; ]
    ]

let svg = renderNode svgDrawing
</code></pre>
<h2 id="merging-attributes">Merging Attributes</h2>
<p>The markup module allows you to easily create components, an excellent way to reduce code repetition in your UI. To support runtime customization, it is advisable to ensure components (or reusable markup blocks) retain a similar function &quot;shape&quot; to standard elements. That being, <code>XmlAttribte list -&gt; XmlNode list -&gt; XmlNode</code>.</p>
<p>This means that you will inevitably end up needing to combine your predefined <code>XmlAttribute list</code> with a list provided at runtime. To facilitate this, the <code>Attr.merge</code> function will group attributes by key, and concat the values in the case of <code>KeyValueAttribute</code>.</p>
<pre><code class="language-fsharp">open Falco.Markup

// Components
let heading (attrs : XmlAttribute list) (content : XmlNode list) =
    // safely combine the default XmlAttribute list with those provided
    // at runtime
    let attrs' =
        Attr.merge [ Attr.class' &quot;text-large&quot; ] attrs

    Elem.div [] [
        Elem.h1 [ attrs' ] content
    ]

// Template
let master (title : string) (content : XmlNode list) =
    Elem.html [ Attr.lang &quot;en&quot; ] [
        Elem.head [] [
            Elem.title [] [ Text.raw &quot;Sample App&quot; ]
        ]
        Elem.body [] content
    ]

// Views
let homepage =
    master &quot;Homepage&quot; [
        heading [ Attr.class' &quot;red&quot; ] [ Text.raw &quot;Welcome to the homepage&quot; ]
        Elem.p [] [ Text.raw &quot;Lorem ipsum dolor sit amet, consectetur adipiscing.&quot;]
    ]

let homepage =
    master &quot;About Us&quot; [
        heading [ Attr.class' &quot;purple&quot; ] [ Text.raw &quot;This is what we're all about&quot; ]
        Elem.p [] [ Text.raw &quot;Lorem ipsum dolor sit amet, consectetur adipiscing.&quot;]
    ]
</code></pre>
<h2 id="custom-elements-attributes">Custom Elements &amp; Attributes</h2>
<p>Every effort has been taken to ensure the HTML and SVG specs are mapped to functions in the module. In the event an element or attribute you need is missing, you can either file an <a href="https://github.com/pimbrouwers/Falco/issues">issue</a>, or more simply extend the module in your project.</p>
<p>An example creating custom XML elements and using them to create a structured XML document:</p>
<pre><code class="language-fsharp">open Falco.Makrup

module Elem =
    let books = Elem.create &quot;books&quot;
    let book = Elem.create &quot;book&quot;
    let name = Elem.create &quot;name&quot;

module Attr =
    let soldOut = Attr.createBool &quot;soldout&quot;

let xmlDoc =
    Elem.books [] [
        Elem.book [ Attr.soldOut ] [
            Elem.name [] [ Text.raw &quot;To Kill A Mockingbird&quot; ]
        ]
    ]

let xml = renderXml xmlDoc
</code></pre>
</main>
  </div>
</div>

<!-- /body/footer -->
<footer class="tc ph3 pv4">
  <div class="f6 white-90">&copy; 2020-2022 Pim Brouwers & contributors.</div>
</footer>

<!-- /body/script -->
<script src="/prism.js"></script>

</body>
</html>
